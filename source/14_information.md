# The scheduling role of information in electricity markets with rising deployments of energy storage: an Australian National Electricity Market case study {#sec:info}

## Link to thesis

Link to the rest of the thesis

## Abstract

Abstract goes here

## Introduction {#sec:info-intro}

Effectively and efficiently scheduling electrical power system resources (generators, loads, energy storage and network elements) is crucial to achieving the primary goal of power system operators (SOs): least-cost spatial & temporal active power balancing subject to technical constraints. Resource scheduling procedures have changed not only with shifts in resource mixes [@elaWholesaleElectricityMarket2016; @orvisRefiningCompetitiveElectricity2018] and advances in information technology & algorithm design [@isemongerEvolvingDesignRTO2009; @knuevenMixedintegerProgrammingFormulations2020], but also where jurisdictions have restructured their electricity industries to replace vertically-integrated utilities with competitive wholesale electricity markets [@chowElectricityMarketDesign2005]. Such restructuring has led to three shifts in the scheduling process [@chaoInterfaceEngineeringMarket2005; @sioshansiElectricityMarketReform2006; @woodPowerGenerationOperation2014]. Firstly, resource information has become more distributed since only market participants (MPs) know their resources' *true* status, operational constraints and cost structures. Thus SOs, which are typically no longer vertically-integrated, have limited visibility of system resources. Secondly, decision-making has become more decentralised, with MPs *choosing* how they participate by submitting offers, bids and technical constraints that may or may not be truthful[^1]. Thirdly, and most pertinent to this work, resource scheduling decisions are no longer solely made by the SO based on current and forecasted system conditions; instead, MPs' scheduling decisions are primarily motivated by current and forecasted *prices* for energy and other system services.

[^1]: What untruthful participation consists of and whether it can be detected & penalised depend on market rules (including the valid offer & bid formats) and the resources & powers of the market monitor and regulator [@herreroEvolvingBiddingFormats2020].

Several economists (notably F. A. Hayek) have argued that the price system is a preferable coordinating mechanism for production and planning where "dispersed bits of incomplete and frequently contradictory knowledge" are possessed by diverse actors [@hayekUseKnowledgeSociety1945, p.519; @littlechildHayekTexasBlackout2021]. While we do not assess the merit of this argument in this article, we adopt its underlying logic: that markets are "mechanisms for collecting, processing and disseminating relevant information" [@vonderfehrTransparencyElectricityMarkets2013, p.93]. In the context of electricity markets, this can be understood through two almost inseparable activities that together lead to the collation & transmission of information through prices. Firstly, a MP submits a set of offers/bids that reflects their knowledge and positions (e.g.  price forecasts, their resources' technical capabilities and/or forward contract obligations). Secondly, the information in offers/bids is then aggregated into prices by the market. These two activities occur iteratively in price formation, a dynamic process in which MPs continuously adjust their participation in response to new information [@bowlesRetrospectivesFriedrichHayek2017]. Achieving an equilibrium (optimal or otherwise) is not guaranteed — it is a special outcome that arises only from convergence in price formation [@creativeenergyconsultingptyltdSchedulingAheadMarkets2020].

From this perspective, resource schedules are the outcome of an information aggregation and exchange process mediated by prices, viz. the electricity market. Assuming that prices reflect the system's condition and needs[^2], then appropriate and frequently-run knowledge processes are a prerequisite of the iterative participation that is necessary (but not sufficient) for convergence towards a set of resources schedules that deliver good, if not optimal social welfare outcomes. These knowledge processes can be privately-run (i.e. by MPs or their information consultants) or centralised for the purpose of disseminating consistent public information (e.g. those run by a public meteorological service or the SO) [@schweppeSpotPricingElectricity1988; @vonderfehrTransparencyElectricityMarkets2013; @maysPrivateRiskSocial2022].

[^2]: If this were the case in an energy-only market, a high energy price would indicate a scarcity of capacity, energy, flexibility or all three. However, as @chattopadhyaySpotlightSpotMarket2023 discuss within the Indian context, achieving alignment between the condition & needs of the system and prices is by no means a small feat as it relies on 1) short-term electricity markets having an appropriate design, structure & governance model and 2) forward contracts preserving short-term market scheduling incentives.

Though frictions in information & market participation processes are problematic for optimising the schedules of all power system resources, they are arguably more so for energy storage resources (ESRs) with diurnal storage durations (i.e. < 12 hours). These include most battery energy storage systems (BESS) and some pumped hydro storage schemes [@frazierStorageFuturesStudy2021]. Whilst diurnal ESRs are flexible and excel at providing capacity, balancing and other stability services [@holttinenDesignOperationEnergy2021; @chernyakhovskiyUSAIDEnergyStorage2021], opportunity-costs that arise from their energy limitations make decisions regarding how and when to participate harder for diurnal storage than for other resource types [@mcphersonImpactsStorageDispatch2020]. Furthermore, to maximise revenues from standalone storage operation, MPs must schedule charging, which replenishes the stored energy necessary to provide more lucrative raise/upwards market products and services, during periods of low (or negative) energy prices[^3].

[^3]: Hybrid generator-plus-storage systems may be less exposed to market prices for charging due to their ability to charge from AC or DC-coupled generation (e.g. solar PV). However, the operational objectives of the storage unit in these resources may differ to those of standalone storage (a point we discuss more broadly in @sec:context-esr-operation) [@gormanMotivationsOptionsDeploying2020].

In this article, we explore the implications of using "forecasts"[^4]  generated by centralised knowledge processes to schedule ESRs with diurnal storage durations in the fast, flexible and volatile Australian National Electricity Market (NEM). Developments in the NEM will be of broad interest given that is has a high penetration of variable renewable energy (VRE) (demonstrated by a record maximum instantaneous renewable energy penetration of just under 70% in Q4 2023), a considerable & growing number of ESRs, and because its real-time market design has long included several features — namely short market intervals, market gate closure close to delivery and a high price cap — that policy-makers elsewhere are considering or have implemented more recently in response to the proliferation of VRE in their jurisdictions [@internationalrenewableenergyagencyAdaptingMarketDesign2017; @katzOpeningMarketsDesigning2019; @papavasiliouScarcityPricingMissing2020; @silva-rodriguezShortTermWholesale2022].

[^4]: We explain why this information cannot strictly be considered a forecast in @sec:context-nem, but for simplicity and brevity, we will continue to use the term "forecast" for the remainder of the paper.

Our work offers three contributions to the literature on ESR scheduling under imperfect foresight and future electricity market design. Firstly, we analyse historical centralised price forecast data from the NEM to show that the frequency of divergence in these forecasts has increased in recent years, and that supply-driven extreme price forecast swings can occur suddenly. We subsequently examine MP (re)bidding data and suggest that these phenomena could be partially explained by both the greater number of flexible resources with automated bidding capabilities and a NEM MP's ability to more-or-less continuously rebid up until a few seconds before delivery. Secondly, we use the same price forecasts data from a recent year to assess the impact of divergences & price swings on battery energy storage system (BESS) arbitrage revenue — a metric that arguably reflects the ESR's contribution to system balancing. In particular, our assessment tests the sensitivity of arbitrage revenues to parameters such as the BESS' storage duration (ranging from 15 minutes to 8 hours), the length of the forecast lookahead (i.e. how far the scheduler looks into the future) and different objective functions (i.e. how the scheduler interprets arbitrage opportunities). Our results show that using these centralised price forecasts to schedule BESSs can significantly reduce their arbitrage revenue. Thirdly, we reflect on the findings of our preceding analyses in a discussion of options for MP scheduling and changes to centralised knowledge processes & market design that could improve resource scheduling outcomes in the NEM and other electricity markets with increasing penetrations of VRE and storage.

@sec:context provides an overview of market information, participation and clearing processes in the NEM in addition to context on grid-scale ESR deployment, operation & market participation to date. In @sec:case_study, we present a two-part case study of the NEM. We first examine errors in SO-produced operational price forecasts and propose a hypothesis to explain increasing divergence and the occurrence of price swings in @sec:case_study-price_forecast_errors. Then, in @sec:case_study-bess_simulations, we use the same centralised price forecasts to schedule a variety of BESSs for arbitrage in one NEM region to assess the impact of price forecast errors (and more broadly, imperfect foresight) on arbitrage revenue. Based on our findings from @sec:case_study, we discuss the advantages, disadvantages and feasibility of changes to MP scheduling, centralised knowledge processes and market design that could maximise the balancing value of resources in @sec:discussion. We conclude by highlighting pertinent findings and recommendations to policy-makers in @sec:conclusion.

## Context {#sec:info-context}

### Australian National Electricity Market {#sec:info-context-nem}

The Australian NEM is a short-term wholesale electricity market operated over an electrically-isolated & "stringy" power system with a footprint that, despite its name, only covers the eastern & southern seaboards of the continent. Nevertheless, it served approximately 80% of all electricity consumption in the country (~204 TWh) and saw a peak demand of ~32 GW in 2021 [@departmentofclimatechangeenergytheenvironmentandwaterNationalElectricityMarket2023; @australianenergyregulatorStateEnergyMarket2022]. Whilst MPs can voluntarily trade electricity derivatives in forward markets [@australianenergyregulatorStateEnergyMarket2022] and tender for longer-term investment support for VRE & storage resources from a growing number of state and federal government schemes [@billimoriaContractDesignStorage2023a], these are designed and operated around the central pillar of the NEM: its real-time market platform.

In the sections that follow, we provide a brief overview of the NEM's real-time markets and the centralised knowledge processes that are integral to their effective and efficient operation.

#### Real-time markets {#sec:info-context-nem-rtm}

The Australian Energy Market Operator (AEMO), which is both the system and market operator, clears a gross-pool energy market & 8 voluntary frequency control ancillary services (FCAS) markets[^5] every 5 minutes through a co-optimised & security-constrained economic dispatch process. For each dispatch interval, this process produces resource dispatch targets (i.e. power output levels and for FCAS providers, headroom/footroom obligations), and zonal energy & FCAS prices for market regions that correspond to the country's five most densely-populated states: Queensland (QLD), New South Wales (NSW), Victoria (VIC), Tasmania (TAS) and South Australia (SA). Market prices can be between the NEM's market floor (-1,000 AUD/MW/hr) and its market cap (15,100 AUD/MW/hr in the Australian financial year 2021-22), which is one of the highest in the world [@silva-rodriguezShortTermWholesale2022]. The energy market used to be settled using the average price of the six dispatch intervals in each half-hourly settlement period; however, in October 2021, the frequency of energy market settlement was changed to match that of pricing through the 5 minute settlement (5MS) rule change [@australianenergymarketoperator5MSCommencement2022].

[^5]: With the implementation of very fast raise & lower contingency FCAS (i.e. fast frequency response to contingencies) in October 2023, the number of FCAS markets will increase to 10 [@australianenergymarketcommissionFastFrequencyResponse2021].

The NEM is a semi-centralised electricity market [@ahlqvistSurveyComparingCentralized2022]. Specifically, though its mandatory gross pool auctions produce resource dispatch obligations, MPs are given free rein to self-manage resource commitment and market participation decisions through a bidding process based not on (verifiable) costs, but prices [@conejoRethinkingRestructuredElectricity2018; @katonaPriceMechanismSurvey2023]. As a minimum requirement, MPs must submit resource-specific bids & offers by 12:30 PM Australian Eastern Standard Time on the day ahead of delivery [@australianenergymarketoperatorSpotMarketOperations2021]. Bids & offers are sealed (i.e. not publicly available until the day after delivery) and consist of up to 10 price-quantity bands for one or more of the NEM's real-time markets in addition to some resource technical parameters (for most resources, their maximum availability & ramp rates) [@australianenergymarketoperatorFormatValidationEnergy2020]. Whilst MPs cannot change band prices after this deadline, they can modify the quantities they offer in each band via a "rebid". Market rules dictate that MPs must "as soon as practicable" submit rebids that are not "false or misleading" with a "brief, verifiable and specific reason for the rebid" [@australianenergyregulatorRebiddingTechnicalParameters2019; @australianenergymarketcommissionNationalElectricityRules2023]. However, there are few restrictions on rebidding reasons (e.g. responding to a change in forecast prices is acceptable)[^6] and since the NEM has no formal gate closure, MPs can rebid until the NEM dispatch engine begins to run for the relevant delivery interval (typically tens of seconds prior to its commencement) [@paulmcardleTwoRecentImprovements2021].

[^6]: The Australian Energy Regulator, which is responsible for monitoring compliance with and enforcing the NEM's rules, is required to report on the role of rebidding, amongst other factors, in contributing to "significant price outcomes" (currently prices greater than 5,000 AUD/MW/hr) [@australianenergymarketcommissionNationalElectricityRules2023a; @australianenergyregulatorSignificantPriceReporting2022]. There have been trading intervals in which rebidding has been determined to have contributed to high prices (e.g. @australianenergyregulatorElectricityPrices0002023), and following the June 2022 market suspension, the regulator described the rebidding behaviour of some MPs to be "reckless" [@australianenergyregulatorJune2022Market2022]. However, to the authors' best knowledge at the time of writing, the regulator has found sufficient cause to pursue market rule breaches related to MP information provision or rebidding in only a handful of instances [@australianenergyregulatorInfringementNoticeAGL2006; @australianenergyregulatorQueenslandGeneratorStanwell2012; @australianenergyregulatorPelicanPointPower2019].

#### Market knowledge processes {#sec:info-context-nem-knowledge_processes}

Given that the NEM's real-time auctions are blind and because it lacks short-term ahead markets that impose physical and/or financial obligations on MPs, AEMO is responsible for running ahead-of-delivery knowledge processes that assess system reliability and generate information to assist MPs in making or altering market participation decisions. These knowledge processes include the Projected Assessment of System Adequacy (PASA) and pre-dispatch processes. With inputs including forecasted network constraints and participant-submitted resource availabilities & energy constraints, resource adequacy information is produced for the next two years by Medium Term PASA's production-cost models, which use demand & VRE traces from several reference weather years, and for the next week by Pre-Dispatch PASA & Short Term PASA, which use demand & VRE forecasts in a simple system reliability model [@australianenergymarketoperatorMediumTermPASA2021; @australianenergymarketoperatorShortTermPASA2012]. The half-hourly demand, VRE, available generation and reserve forecasts published by the shorter-term PASA processes are particularly useful for MPs scheduling resources. Pre-dispatch processes, on the other hand, use the latest set of MP offers alongside system forecasts in a modified version of the NEM's dispatch algorithm to generate regional energy & FCAS price forecasts and sensitivities that predict the impact of demand forecast errors on prices and power flows between market regions [@australianenergymarketoperatorPreDispatchSensitivities2021]. These are published at half-hourly resolution until the end of the next trading day (30MPD) and at five minute resolution for the next hour (5MPD) [@australianenergymarketoperatorPredispatchOperatingProcedure2021]. Both PASA and pre-dispatch processes perform a reliability function in addition to providing MPs with market information — if forecast reserves fall below certain trigger levels and AEMO deems the market response to be insufficient by a certain time, it can take emergency actions to ensure the system remains balanced [@australianenergymarketoperatorShortTermReserve2021; @australianenergymarketoperatorReserveLevelDeclaration2018].

AEMO refers to the prices generated by pre-dispatch processes as "forecasts", but they cannot strictly be considered as such since one of their purposes is to provide a *signal* that elicits market responses from MPs [@huEmpiricalObservationsBidding2005]. For example, a high initial pre-dispatch price might motivate a MP to commit or reschedule their resources through inframarginal rebids, but doing so could then depress the price in the next pre-dispatch run. This may, in turn, drive the same or other MPs to adjust their participation preferences (and so on). As such, the NEM's iterative pre-dispatch processes in theory provide a platform for coordinating privately-owned resources in the production of a system schedule [@creativeenergyconsultingptyltdSchedulingAheadMarkets2020]. However, in practice, prices may not necessarily converge as real-time approaches, leading to less efficient market participation decisions and thus less effective scheduling outcomes. As demand and VRE forecasts generally improve closer to real-time, any divergence in pre-dispatch forecasts run close to the delivery interval is likely to be a result of MP rebidding, sudden outages and/or differences between the constraints in pre-dispatch & actual dispatch [@australianenergymarketoperatorPredispatchOperatingProcedure2021].

### Energy storage resources {#sec:info-context-esr}

Earlier studies predominantly focused on evaluating the potential system or market value of grid-scale ESRs in the presence of market volatility and/or growing VRE penetrations [@sioshansiEstimatingValueElectricity2009; @bradburyEconomicViabilityEnergy2014; @desisternesValueEnergyStorage2016; @mcconnellEstimatingValueElectricity2015]. Since these studies were undertaken, ESR deployment has accelerated worldwide due to declining BESS costs (especially for lithium-ion chemistries) [@internationalrenewableenergyagencyUtilityscaleBatteriesInnovation2019; @maulerBatteryCostForecasting2021], the growth in market participation opportunities (which in some cases can be attributed to enabling market reform) [@federalenergyregulatorycommissionOrderNo8412018; @australianenergymarketcommissionIntegratingEnergyStorage2021], and policy-makers promoting investment or directly investing in storage to support the reliable operation of their power systems as they decarbonise [@internationalenergyagencyGridScaleStorage2022]. The fast pace of ESR deployment in recent years has motivated work, which we summarise in the following sections, to better understand how their value can be realised or limited by who the storage operator is and what scheduling strategy they select [@shanDeleteriousEffectsStrategic2021].

#### Factors influencing scheduling {#sec:info-context-esr-operation}

Previous work has explored three factors that have a strong bearing on how ESRs are self-scheduled[^7] and thus the degree of assistance they provide in balancing the system:

[^7]: This is a paradigm in which the storage operator largely determines how the resource will participate. We briefly discuss alternative paradigms, such as when privately-owned ESRs are operated by network or system operators, in @sec:discussion.

##### Which objective(s) the storage operator optimises for

ESRs are technically capable of providing a range of services that grows wider as the point of installation approaches energy consumers [@fitzgeraldEconomicsBatteryEnergy2015]. Though it is often assumed that operators can "value stack" these services (i.e. provide them simultaneously), constraints of a technical, organisational and/or regulatory nature mean that ESR scheduling often involves trade-offs between the services it can provide and thus the objectives it can fulfil [@keckDriversBenefitsShared2021; @ransan-cooperApplyingResponsibleAlgorithm2021]. Moreover, an ESR's operational objectives are likely to be dictated by the objectives of the storage operator's broader portfolio. For example, @wangOptimalSchedulingEnergy2017 demonstrate that an ESR can be scheduled to minimise a load-serving entity's day-ahead deviation liabilities, @loiselMarketStrategiesLargescale2021 show how pumped hydro storage is used to support nuclear resources within the portfolio of France's largest electricity producer, and @billimoriaContractDesignStorage2023a explore the impact of storage contracts and their design on the alignment between financial incentives for MPs and system needs in operational timeframes. A particularly important line of work in this area has studied the impact of conflicting MP and system objectives. @rangelCompetitionPolicyRegulation2008, @sioshansiWhenEnergyStorage2014 and @shanDeleteriousEffectsStrategic2021 examine instances in which MPs can use ESRs strategically (i.e. to maximise portfolio profits) to the detriment of the system and social welfare.

##### Storage operator preferences and attitudes

Beyond the choice of which services the ESR should provide, the preferences and attitudes that affect ESR operation include the storage operator's risk appetite and their ability (as well as their willingness) to take or make market prices. @shafieeEconomicAssessmentPricemaker2016 show that accounting for an ESR's price-making potential in its scheduling algorithm may lead to the resource curtailing its discharge during high energy prices to avoid "cannibalising" its own revenues. Similarly, @yurdakulRiskAverseSelfSchedulingStorage2023, using a stochastic risk-based scheduling algorithm to model the decisions of a risk-averse storage operator in the face of pre-dispatch forecast uncertainty, demonstrate that storage operator risk aversion can lead to reduced energy availability and/or curtailed discharge during periods of high prices. Such examples of withholding demonstrate that even during periods of relative scarcity, the full capabilities of an ESR may not always be available to the system.

##### What information is considered by the scheduler, and how {#sec:info-context-esr-operation-information}

All operational strategies heavily rely on information about the current & future states of the system and the market [@abdullaOptimalOperationEnergy2018]. Resource operators must balance the benefits of processing potentially large and diverse datasets from multiple providers with the advantages to decision-making that arise from only using the most pertinent & tractable information for scheduling [@vonderfehrTransparencyElectricityMarkets2013]. Experience to date suggests that storage operators predominantly rely on system and/or market forecasts to schedule their ESRs. However, the tension between information quantity and quality still exists for storage operators in considering *how* forecasts should be used in scheduling.

On one hand, operators can simultaneously consider multiple possible outcomes (forecast distributions or scenarios) by formulating scheduling as a stochastic or robust optimisation problem. Studies have used these methods to schedule ESRs in markets with a single (real-time) platform [@yurdakulRiskAverseSelfSchedulingStorage2023] or two (day-ahead and real-time) platforms [@wangOptimalSchedulingEnergy2017; @krishnamurthyEnergyStorageArbitrage2018], and to size and operate an ESR that can assist in system balancing given a historical distribution of VRE generation forecast errors [@bakerEnergyStorageSizing2017]. However, in addition to the difficulties that arise in characterising scenarios and distributions (e.g. assigning scenario probabilities or, as discussed in @bakerEnergyStorageSizing2017 & @yurdakulOnlineCompanionRiskAverse2023a, accounting for heavy-tailed forecast error distributions), robust methods can be overly conservative whilst stochastic methods require careful selection of risk metrics and, due to their computational complexity, may even prevent MPs from responding to new information in a timely fashion [@yangModellingOptimalEnergy2022; @roaldPowerSystemsOptimization2023].

Given these issues, storage operators might instead prefer to implement optimal control strategies, such as model predictive control, that reschedule ESRs at regular intervals using the most recent (point) forecast information available. Scheduling decisions made using such approaches are often sensitive to the frequency of control decisions, the length of the control horizon lookahead, the operational characteristics of the ESR and the nature & accuracy of the forecasts used. Though previous studies have investigated the impact of a subset of these factors on ESR scheduling and market revenues, they synthesise forecasts by manipulating historical price time series [@sioshansiEstimatingValueElectricity2009; @connollyPracticalOperationStrategies2011; @dunbarImpactElectricityPrice2014] or by combining day-ahead and real-time prices [@mcphersonImpactsStorageDispatch2020]. As such, the resulting forecasts may not adequately represent those that an MP might use to schedule an ESR in a short-term electricity market. Two earlier studies from the NEM use realistic forecast data and test the sensitivity of arbitrage revenues to pumped hydro energy storage durations [@mcconnellEstimatingValueElectricity2015; @pippawilliamsBatteryNationOperation2019], but only simulate operation on a half-hourly basis (rather than every dispatch interval or 5 minutes). Furthermore, @pippawilliamsBatteryNationOperation2019 remove high price events that, as we show in @sec:case_study-bess_simulations, can significantly impact ESR revenues. These factors, combined with the age of these studies, mean that their findings may not necessarily hold for fast real-time electricity markets with high penetrations of VRE and storage.

### Participation in electricity markets {#sec:info-context-esr-market_participation}

Hydro ESRs have long participated in and even shaped the design of several electricity markets across the world [@rangelCompetitionPolicyRegulation2008]. However, it is grid-scale lithium-ion BESSs with diurnal storage durations that have accounted for a large proportion of the growth in ESR deployment in recent years. These BESSs have predominantly participated in ancillary services markets due to their lucrativeness [@rangarajanAssessingImpactBattery2023; @schmidtMonetizingEnergyStorage2023a]. In fact, they became the largest provider of FCAS by technology type in Q2 2023 in the NEM [@australianenergymarketoperatorQuarterlyEnergyDynamics2023a], and in Texas, they provide the majority of the SO's requirements for some reserve products [@magoERCOTOperationalExperience2023]. However, despite the greater forecasting risks and cycling demands, arbitrage is likely to become a more important revenue stream for these resources given the potential for growing penetrations of VRE to increase short-term energy market price volatility [@ballesterEffectsRenewablesStylized2015; @blazquezRenewableEnergyPolicy2018; @devriesMarketSignalsAdequacy2022] and the relative "shallowness" of ancillary services markets, which are seeing increased competition [@prakashQuantifyingReserveCapabilities2023]. A shift towards arbitrage revenue is already occurring in the NEM; daily price spreads (and thus arbitrage revenue opportunities) have increased on average across all mainland regions over the last decade ([@fig:nem_daily_price_spreads]), and the arbitrage proportion of the estimated gross, fleet-wide BESS revenue in Q2 2023 was 57% [@australianenergymarketoperatorQuarterlyEnergyDynamics2023a].

![Common logarithm of the daily price spread (where $p_{max}$ and $p_{min}$ are the maximum and minimum price for any given day, respectively) in all mainland NEM regions (i.e. excluding TAS, which is connected to mainland Australia via a high voltage DC transmission line) from 2012 to the end of 2021. The maximum potential spread (dashed red line) is the difference between the market price cap (revised each Australian financial year) and the fixed market price floor (-1000 AUD/MW/hr). The dashed vertical black line denotes the commencement of 5 minute settlement in the NEM. Price data were obtained using `NEMOSIS` [@gormanNEMOSISNEMOpen2018]. This plot was generated using `matplotlib` [@hunterMatplotlib2DGraphics2007].](source/figures/historical_daily_price_spreads.pdf){#fig:nem_daily_price_spreads}

## Pre-dispatch and its impact on storage scheduling in the National Electricity Market {#sec:info-case_study}

### Pre-dispatch price forecast errors {#sec:info-case_study-price_forecast_errors}

Aside from what appears to be anomalous outcomes for some months in 2016 (one of which is likely related to the SA system black), [@fig:nem_historical_price_forecast_errors] shows that there were relatively few significant pre-dispatch price forecast errors (i.e. errors with magnitude $\geq$ 300 AUD/MW/hr)[^8] in the NEM from 2012 to the end of 2017. However, price forecast errors have increased in frequency since 2018 in the day-ahead timeframe, and since 2019 for forecasts published up to 2 hours & 15 minutes ahead of delivery. The rise in price forecast errors consists not only of a greater number of negative price errors (red), which are an expected outcome of the pre-dispatch process (i.e. MPs increase resource availability in response to a high price forecast and subsequently depress the cleared price), but also positive errors, which appear to constitute a large portion of the errors occurring within 15 minutes of delivery. Positive errors this close to delivery are particularly concerning to MPs because they may lead to missed opportunities or, if MPs are scheduling ESR charging or have sold forward contracts that their resources are not positioned to defend, unexpected costs. There does not appear to be a clear link between the occurrence of a major system or market event and a greater number of errors — there were a large number of errors following a system black event in SA in 2016 and the explosion of a QLD coal unit in 2021, but lulls in errors also followed the retirement of a large VIC coal plant in 2017 and a double-separation event in 2018.

[^8]: 300 AUD/MW/hr corresponds to the traditional strike price of "cap contracts". These are a type of call option traded in the NEM's forward markets that, at the cost of a premium paid to the contract seller, enables contract purchasers (typically electricity retailers) to cap the market exposure of the contracted volume at the strike price.

![NEM-wide (i.e. all regions) monthly price forecast error counts binned by error direction and magnitude (excluding -300 AUD/MW/hr $<$ errors $\leq$ 300 AUD/MW/hr ) for forecasts made up to 24 hours (top, using forecast data from 30MPD and 5MPD), 2 hours (middle, using forecast data from 30MPD and 5MPD) and 15 minutes (bottom, using forecast data from 5MPD) ahead of delivery. The dashed & annotated black lines denote major system events and market changes in the NEM. Pre-dispatch price forecasts data were obtained using `NEMSEER` [@prakashNEMSEER2023], and actual market price data were obtained using `NEMOSIS` [@gormanNEMOSISNEMOpen2018]. Errors for each forecasted interval were calculated following the omission of the two 30MPD forecasts that overlap with the 5MPD forecast horizon (refer to the research data for this article for further details and source code). This plot was generated using `matplotlib` [@hunterMatplotlib2DGraphics2007].](source/figures/price_errors_nemwide_2012_2021.pdf){#fig:nem_historical_price_forecast_errors}

Flexible resources (which, within the availability of their primary energy source, include BESSs, hydro and VRE) are able to adapt to changing conditions so long as the system & market information relevant to their participation is published. To better ascertain whether flexible resources might also be affected by price forecast errors, we examine errors from the last available pre-dispatch price forecast (i.e. from the last P5MIN iteration, which is nominally run 5 minutes before delivery). @fig:nsw_5min_price_demand_errors_2021 shows that for NSW in 2021, there were some intervals in which the last available price forecast was different from the actual dispatch price by 10,000-15,000 AUD/MW/hr. Price forecast swings of this magnitude could have a significant impact on inflexible and flexible resource alike, and are possible with only small changes in supply or demand since resource offers & aggregate supply curves in the NEM typically resemble hockey-sticks [@hurlbutProtectingMarketHockey2004; @energysynapseDemandResponseNational2020]. Factors that modify available supply, rather than demand, between the last 5MPD run and actual dispatch are likely to be responsible for these large swings as many of the significant price errors in @fig:nsw_5min_price_demand_errors_2021 occurred when demand forecast errors were close to zero. Because sudden outages are only occasional and AEMO regularly monitors pre-dispatch constraint accuracy to check if improvements to their formulation can be made [@australianenergymarketoperatorMonthlyConstraintReport2023], we conjecture that MP rebidding is a major contributing factor to the large price forecast swings in @fig:nsw_5min_price_demand_errors_2021. In the next section, we analyse trends in MP rebidding and propose a hypothesis that links rebidding activity to the rise in price forecast errors in the NEM.

![Demand forecast error plotted against the price forecast error for the NSW region in 2021. Each point in the scatter plot corresponds to errors calculated from the forecasts in the last 5MPD run for each dispatch interval (nominally run 5 minutes prior to delivery, but published between 4 minutes & 30 seconds and 3 minutes prior to delivery [@mcardleFileCreationTimes2022]). Source: `NEMSEER` documentation [@prakashEnergyPriceConvergence2023], using data obtained using `NEMSEER` [@prakashNEMSEER2023] and `NEMOSIS` [@gormanNEMOSISNEMOpen2018]. This plot was generated using `matplotlib` [@hunterMatplotlib2DGraphics2007].](source/figures/NSW_demand_price_forecast_errors_300ahead_2021.pdf){#fig:nsw_5min_price_demand_errors_2021}

#### A rise in rebidding: autobidders? {#sec:info-case_study-price_forecast_errors-bidding_analysis}

Using bid & offer data zipfile size as a proxy for the total number of bids, offers & rebids (which we will collectively refer to as *rebids* hereon for the sake of brevity), [@fig:bid_file_size_2012_2022] shows a two-stage increase in the number of rebids. The first is a small but gradual increase beginning in 2018, which roughly coincides with the NEM's first grid-scale BESS starting to participate in dispatch. The second is a more dramatic increase starting in 2021 & still continuing as of the end of 2022. We surmise that the overall rise in rebidding activity is a result of resources increasingly being commissioned with or adopting automated bidding systems (or *autobidders*) that can rapidly rebid [@mcardleRiseAutobidder2021].

![File sizes of monthly NEM bid & offer data zipfiles from 2012 to 2022 scraped from AEMO's monthly data archive [@australianenergymarketoperatorElectricityDataModel2023]. The zipfile for each month consists of a single CSV with one AEMO data table (BIDPEROFFER) that contains quantity bid & offer data (including rebids). As such, zipfile size is a suitable proxy for the size of the underlying data and thus the number of bids, offers and rebids. This plot was generated using `matplotlib` [@hunterMatplotlib2DGraphics2007].](source/figures/monthly_bidding_data_size_2012_2023.pdf){#fig:bid_file_size_2012_2022}

To better understand which technologies are driving rebidding activity, we calculated the percentage of rebids from each technology type in June of every year from 2013 to 2021[^9]. [@fig:share_rebids_june_2013_2021] shows that rebids in June have grown considerably; there were 1-2 million rebids in June in 2013-2017, but this increased to approximately 2.5 million rebids in 2020 and 46 million rebids in 2021. Though conventional resources (especially hydro) were still responsible for a large share of the increased rebidding activity in June 2021, BESS & wind resources overtook coal & gas-fired power station in the quantity of rebids submitted and BESS & VRE together accounted for approximately 35% of all rebids in June in 2021. This figure increases to just over 40% of all rebids if we include other newer market entrants such as demand response & virtual power plant aggregators. It is worth highlighting that BESS resources in particular are playing an outsized role in rebidding; over 80 wind farms and 60 open-cycle gas turbine units accounted for approximately 15% and 9% of all rebids in June 2021, respectively, compared to only 12 BESS plant accounting for ~13%[^10].

[^9]: Only June, a month with a large number of absolute price errors in NSW in 2021 [@prakashEnergyPriceConvergence2023], was analysed due to the sheer volume of rebid data from 2019 onwards.

[^10]: Based on analysis of market registration dates as provided by AEMO in the *DISPATCHABLEUNIT* data table [@australianenergymarketoperatorMMSDataModel2023].

Though we cannot make definitive conclusions, we surmise that the significant increase in the number of rebids and the greater role of newer market entrants in rebidding can be partially attributed to the growing use of autobidders in the NEM. Autobidders are typically integrated with BESS market participation control algorithms, and VRE resources are increasingly using them to manage the various complexities of market participation [@mcardleRiseAutobidder2021]. Furthermore, we propose that the rise in pre-dispatch price forecast errors, be they some time ahead of delivery or a sudden divergence close to real-time, could at least be partially explained by greater rebidding activity. MPs could be inducing large price forecast changes between pre-dispatch runs, or between pre-dispatch & dispatch itself (e.g. @fig:nsw_5min_price_demand_errors_2021), by regularly and rapidly shifting supply availability through rebids — a participation strategy that is enabled by resource flexibility and facilitated by the use of autobidders. In the next section, we shift focus from analysing pre-dispatch price forecast errors to assessing their impact on the arbitrage revenues of various BESS ESRs.

![Share of all rebids by technology type submitted in June for every year from 2013 to 2021, with shares sorted from largest (bottom) to smallest (top). The number at the top of each column is the total number of rebids made in June of that year. June was selected because it was this month in 2021 that saw the highest occurrence of significant price forecast errors in several NEM regions across a range of ahead times for half-hourly dispatch intervals (see @prakashEnergyPriceConvergence2023). OCGT refers to open cycle gas turbines, CCGT refers to combined cycle gas turbines and DR/VPP includes demand response & virtual power plants, the latter of which has predominantly referred to aggregated distributed BESS resources to date. Smelter refers to several existing & now decommissioned aluminium smelters, and steam technologies include resources with both coal-fired & gas-fired boilers. Rebid data were obtained from Nemweb [@australianenergymarketoperatorNemwebMarketData2023] using the open-source `AEMO Monthly Data Archive Tool` [@prakashAEMOMonthlyData2023]. This plot was generated using `matplotlib` [@hunterMatplotlib2DGraphics2007].](source/figures/rebids_june_share_by_tech_2013_2021.pdf){#fig:share_rebids_june_2013_2021}

### Energy storage scheduling using pre-dispatch price forecasts {#sec:info-case_study-bess_simulations}

Through an optimisation modelling framework, we test the degree to which information quality affects the annual arbitrage revenues of 100 MW BESSs with different storage durations, scheduling optimisation objectives & scheduling lookaheads. We do so for the NSW market region, which provides an interesting case study given its relatively low price volatility historically ([@fig:nem_daily_price_spreads]) yet recent experience with sudden & significant price forecast swings (refer to @prakashEnergyPriceConvergence2023 and @fig:nsw_5min_price_demand_errors_2021).

#### Methodology{#sec:info-case_study-bess_simulations-method}

##### Price data {#sec:info-case_study-bess_simulations-method-price_data}

Two types of price data for the NSW market region from 2021 were used in this study:

1. Actual (i.e. historical) price data obtained using `NEMOSIS` to represent *perfect* price information [@gormanNEMOSISNEMOpen2018]; and
2. Price forecast data generated from processing 30MPD and 5MPD price forecasts obtained using `NEMSEER` [@prakashNEMSEER2023] in three steps. Firstly, because 30MPD only produces forecasts with half-hourly resolution, 30MPD price forecasts were imputed using the next observation carried backwards (i.e. forecasted price at 13:30 is applied to intervals ending at 13:25, 13:20, ..., 13:05). This reflects a typical interpretation of a 30MPD forecast. Secondly, because 30MPD is only run every half hour, the latest set of 30MPD forecasts were carried forward (i.e. set of forecasts generated at 13:30 are also used in intervals ending at 13:35, 13:40,...,13:55). Finally, the 30MPD forecasts for dispatch intervals within one hour of delivery were removed in favour of 5MPD price forecasts at 5-minute resolution. Together, these processing steps produced forecasts (or *imperfect information*) for each dispatch interval with 5-minute resolution up to 15 hours out from delivery[^11].

[^11]: 30MPD produces forecasts until the end of the latest trading day for which offer & bid price band submission has closed. For example, the 1300 run on day D, the 0800 run on day D+1 and the 1200 run on day D+1 will all forecast out until 0400 on day D+2 (trading days in the NEM commence at 0400). The longest lookahead for which all dispatch intervals have a 30MPD forecast is 16 hours [@prakashLookingPredispatchDemand2023].

##### Schedules

Three year-long arbitrage schedules consisting of decisions to charge, discharge or idle were generated for each modelled BESS: one using a perfect foresight model, in which BESS operation is optimised across the entire year using actual price data in a single *step*, and two (one with actual and one with forecast price data) using a receding horizon optimal control (RHOC) simulation ([@fig:bess_schedules]). The RHOC simulations consisted of *steps* every 5 minutes in which BESS operation is optimised for the duration of the lookahead horizon with actual or forecast price data, but only the action for the next dispatch interval is considered to be *binding* and is thus retained as a scheduling decision that affects the BESS's state of charge. Successive steps were taken until a schedule for the entire year of 2021 was produced. Each step required optimising one of the mixed-integer linear program (MILP) formulations described in @sec:case_study-bess_simulations-method-sensitivity_analysis, all of which used a single binary variable for each interval in the forecast horizon to prevent the BESS from simultaneously charging and discharging in the same dispatch interval [@shafieeEconomicAssessmentPricemaker2016; @wangOptimalSchedulingEnergy2017; @yurdakulRiskAverseSelfSchedulingStorage2023].

![The study's scheduling methodologies applied across 10 dispatch intervals (50 minutes). The top of the figure (within the red brace) corresponds to the RHOC simulation methodology. The scheduler optimises successive steps, each with a lookahead horizon length of 3 intervals or 15 minutes, and binds the first action of each step (red horizontal bars) to create a simulated BESS schedule. The bottom of the figure (within the blue brace) corresponds to the perfect foresight methodology. The perfect foresight scheduler optimises a single step that looks over the entire study period to produce a perfect foresight BESS schedule.](source/figures/storage_simulations.pdf){#fig:bess_schedules}

The perfect foresight model and RHOC simulations were implemented in Julia [@bezansonJuliaFreshApproach2017]. The MILP formulations were written in the `JuMP` modelling language [@lubinJuMPRecentImprovements2023] and solved using `HiGHs` [@huangfuParallelizingDualRevised2018] with a 1% relative MIP gap tolerance and a 30 second time limit. These solver options were chosen such that solutions of a reasonable quality were attained whilst ensuring that the time required to solve more than 100,000 successive steps for a year-long schedule would not be prohibitive. Figures were generated using `Makie.jl` [@danischMakieJlFlexible2021]. All of the aforementioned packages and this study's source code [@prakashNEMStorageUnderUncertainty2023] are open-source and freely-available.

##### Sensitivity analysis {#sec:info-case_study-bess_simulations-method-sensitivity_analysis}

A sensitivity analysis was conducted to test the impact of information quality (i.e. perfect versus imperfect information) on the annual arbitrage revenues of BESSs with different:

1. **Storage durations**. These ranged from 15 minutes to 4 hours for a 100 MW BESS. This power capacity and the duration range tested are reflective of those of BESS resources that are currently participating in the NEM;
2. **Lookahead horizon lengths**. Each step involves optimising the BESS using actual or forecast price data for just the next dispatch interval (5 minutes) or as far as 15 hours (900 minutes) out; and
3. **Interpretations of arbitrage opportunities**. These are modelled via the optimisation problem *formulations* described in @tbl:formulations.

+------------------------+--------------------------------------------------------------------+----------------------------+
|Name                    |Description                                                         |MILP Formulation            |
+========================+====================================================================+============================+
|*Arbitrage*             |Maximise arbitrage revenues over the lookahead horizon subject to   |[Appendix                   | 
|                        |power, energy and charge state constraints.                         |@sec:appendix-milps-arb]    |
|                        |                                                                    |                            |
+------------------------+--------------------------------------------------------------------+----------------------------+
|*TP Penalty [AUD/MWh]*  |As for *Arbitrage*, but with a penalty applied to BESS throughput   |[Appendix                   |   
|                        |(discharged energy) to model a MP assessing arbitrage revenue       |@sec:appendix-milps-arbpen] |
|                        |potential against the cost of BESS cycle degradation. The penalty is|                            |
|                        |the capital cost of a BESS amortised across a warrantied throughput |                            |
|                        |lifetime, which was calculated using a cycle rate (1 cycle per day) |                            |
|                        |and warranty period (10 years) typical of many existing BESS        |                            |
|                        |warranties [@xuRoleModelingBattery2022]. The BESS capital costs used|                            |
|                        |in this study ranged from 200,000 to 800,000 AUD/MWh. This range    |                            |
|                        |encompasses the capital cost assumptions for grid-scale BESS of     |                            |
|                        |various storage durations that AEMO have used in their capacity     |                            |
|                        |expansion modelling                                                 |                            |
|                        |[@australianenergymarketoperator2022ISPInputs2022]. The number in   |                            |
|                        |the square brackets that follows the formulation name denotes the   |                            |
|                        |BESS capital cost used in the penalty (in AUD/MWh).                 |                            |
|                        |                                                                    |                            |
|                        |                                                                    |                            |
+------------------------+--------------------------------------------------------------------+----------------------------+
|*Discounting + TP Pen.  |As for *TP Penalty [600,000 AUD/MWh]* (mid-range BESS capital cost),|[Appendix                   | 
|[Discount function]*    |but with future prices discounted based on a discount function &    |@sec:appendix-milps-arbdisc]|
|                        |discount rate. This models a MP incorporating the belief that       |                            |
|                        |forecasts should improve closer to real-time into the BESS          |                            |
|                        |scheduling process. Two discount functions were tested: the         |                            |
|                        |commonly-used exponential discount function (*Exp*) and a hyperbolic|                            | 
|                        |discount function (*Hyp*). We outline the rationale for choosing    |                            | 
|                        |these discount functions and describe the methodology used to derive|                            |
|                        |discount rates in [Appendix @sec:appendix-discounting].             |                            |
|                        |                                                                    |                            |
|                        |                                                                    |                            |
+------------------------+--------------------------------------------------------------------+----------------------------+
: Optimisation problem formulations simulated in this study. {#tbl:formulations}

##### Assumptions and limitations {#sec:info-case_study-bess_simulations-method-assumptions}

Below, we outline the simplifying assumptions made by the study with regards to BESS dispatch and market participation. We discuss assumptions related to the BESS's operating characteristics in [Appendix @sec:appendix-milps-assumptions].

  - The BESS does not participate in FCAS or provide other system services. Modelling these would likely reduce the power and/or energy capacity available for arbitrage and also require the scheduler to consider both energy and FCAS price forecasts.
  - We optimise the BESS for dispatch decisions, but MPs would actually optimise their offers. In theory, appropriately structuring a BESS's price-quantity offers should mean that it only participates when it is commercially beneficial to do so whilst minimising or altogether avoiding losses in the event of sudden price forecast swings. In practice, many BESS across the NEM appear to be sacrificing some arbitrage upside by pursuing loss-averse bidding strategies. These entail a BESS bidding a large portion of its capacity into higher price bands to avoid being dispatched if low or moderate prices eventuate, and only rebidding this capacity into lower price bands when participation is perceived to be favourable ([@fig:nem_bess_bidding]). Though at least some BESSs no longer have this "all-or-nothing" approach to loss-averse bidding (compare 2021 and 2023 in @fig:nem_bess_bidding), there may be instances in which forecasts fail to predict a moderate-to-high price and a BESS only partially captures or even completely misses a significant revenue opportunity.
  - The scheduling decisions made by the 100MW BESS assume that it is a "small device", i.e. a price-taker. Given the hockey-stick shape of the NEM's aggregate supply curves, this assumption is likely to hold for lower prices. However, the BESS could play a role in shaping higher prices, e.g. shifting offered quantities to prevent prices from being depressed or to exercise market power. Doing so successfully would not only rely on accurate price forecasts, but also a good understanding of the BESS's own market power.
  - The BESS maintains a dispatch target for the entire interval instead of ramping linearly between its last and next dispatch target — a requirement in the NEM [@australianenergymarketoperatorDispatchStandardOperating2019].
  - BESS dispatch is not restricted by constraints in the NEM's dispatch engine.
  - The market is settled for each dispatch interval, with the BESS being paid or charged the corresponding spot price for the NSW region. In reality, the regional spot price would be adjusted by the marginal loss factor of the BESS [@aemoTreatmentLossFactors2012].

![Final aggregate BESS offers adjusted by resource availability & binned by offer price, and the NEM-wide volume weighted average prices on June 4 2021 and June 4 2023. Note that BESS tend to shift capacity to lower price bands during periods of high prices. While BESS capacity was predominantly offered in at 1000+ AUD/MW/hr between high price events in 2021, there was a higher degree of quantity segmentation across 50 AUD/MW/hr+ price bands in 2023 (albeit with higher total offer volumes). Nevertheless, more than half of the aggregate in-market BESS capacity was at times offered into the market for at least 10,000 AUD/MW/hr on June 4 2023. Final offers  were obtained and processed using `nem-bidding-dashboard` [@nicholasgormanNembiddingdashboard2023]. This plot was generated using `plotly` [@plotlytechnologiesinc.CollaborativeDataScience2015].](source/figures/aggregate_bess_bidding_0406_2021_2023.pdf){#fig:nem_bess_bidding}

##### Values of perfect information and foresight

Inspired by metrics for evaluating solutions obtained from optimisation under uncertainty [@roaldPowerSystemsOptimization2023], we compute two quantities to separate the impact of imperfect information from that of myopic lookaheads and sub-optimal decision-making:

1. *Value of perfect information* (VPI), which is obtained by expressing the additional annual revenue earned with access to actual price information, rather than forecast prices, for *each step * as a percentage of the perfect foresight annual revenue:

$$\textrm{VPI} = \frac{\textrm{Revenue}_{\textrm{Actual}} - \textrm{Revenue}_{\textrm{Forecast}}}{\textrm{Revenue}_{\textrm{Perfect foresight}}}$$

2. *Value of perfect foresight* (VPF), which is obtained by expressing the additional annual revenue earned with access to actual price information for the *entire year* as a percentage of the perfect foresight annual revenue:

$$\textrm{VPF} = \frac{\textrm{Revenue}_{\textrm{Perfect foresight}} - \textrm{Revenue}_{\textrm{Forecast}}}{\textrm{Revenue}_{\textrm{Perfect foresight}}}$$

If $\textrm{VPF} \approx \textrm{VPI}$, then information quality accounts for most of the lost revenue potential. Otherwise if $\textrm{VPF} > \textrm{VPI}$, then other changes, such as increasing the scheduling lookahead, are required alongside better information to recoup lost revenue potential.

#### Results {#sec:info-case_study-bess_simulations-method-results}

Using pre-dispatch price forecasts can have a significant impact on BESS annual arbitrage revenues. Though a BESS scheduled with perfect information but a shorter lookahead horizon length of 1 hour can make some minor detrimental decisions (left plot in [@fig:bess_price_revenue]), using price forecasts can lead to a BESS missing a larger number of revenue opportunities and sometimes incurring significant costs as a consequence of charging during an unanticipated price spike (right plot in [@fig:bess_price_revenue]). Over the entire study year, using undiscounted price forecasts across the longest lookahead horizon reduced BESS arbitrage revenue potential by ~15-20% for a 4 hour BESS, ~40-43% for a 1 hour BESS and as much as ~62-64% for a 15 minute BESS ([@fig:vpi_vpf]). Considering that arbitrage revenue potential is somewhat indicative of a BESS's contribution to system balancing, our results are aligned with the most recent energy capacity derating factors used by AEMO to model BESS scheduling under imperfect foresight (i.e. 50% derating for 15 minute and 1 hour ESRs, and 10% derating for a 4 hour ESR) [@australianenergymarketoperator2023ElectricityStatement2023].

![The revenue earned by a 100 MW/100 MWh BESS (scheduled using the *Arbitrage* formulation) plotted against the energy price in the same dispatch interval. Orange points correspond to dispatch interval decisions made with a lookahead horizon length of 15 hours and blue points correspond to dispatch interval decisions made with a lookahead horizon length of 1 hour. Under ideal operation, the points should form a "tick" shape — more negative prices should lead to greater revenues as the BESS charges, and a higher price should lead to greater revenues as the BESS discharges. ](source/figures/NSW_100MW_100MWh_Revenue_Lookahead.pdf){#fig:bess_price_revenue}

![VPI (bars with black edges) & VPF (bars with grey edges) for BESS with different storage durations (15 minutes to 4 hours across subfigures from top to bottom), lookahead horizon lengths (5 minutes to 15 hours across the horizontal axis of each subfigure) and optimisation formulations (different coloured bars, all described in @tbl:formulations). Note that for the BESSs with 5 minute lookahead horizon lengths, the VPI is much less than the VPF due to myopic operation, so the former's bars are close to zero.](source/figures/NSW_100_allformulations_vpi_vpf.pdf){#fig:vpi_vpf}

Despite the magnitude of the aforementioned revenue reductions, our results also suggest that storage operators can reduce the impact of imperfect information to varying degrees by:

  1. Scheduling using longer lookahead horizons. As demonstrated by the reduction in the difference between VPF and VPI from a 5 minute to 15 hour lookahead for the 25 MW BESS, a long lookahead horizon is unsurprisingly important to longer duration storage. However, across most of the sensitivities tested in this study, our results suggest that most of this benefit can be captured with a lookahead horizon as short as 4 hours. This is because for undiscounted simulations, forecast quality accounts for most if not all of the lost revenue potential (i.e. $VPF \approx VPI$) beyond 4 hours. Medium to longer-term operational planning is also important. Cycling constraints, such as those imposed by manufacturer warranties, may incentivise BESS operators to "preserve" cycles for the best opportunities (e.g. May to August in this study, which is, as [@fig:bess_throughputs] shows, when the perfect foresight BESS was cycled the most).

2. Discounting price forecasts further into the future when scheduling BESS with durations less than an hour. The exponential function slightly outperforms the hyperbolic function most likely due to the heavier discounting of the latter of price forecasts closer to real time, which tend to be more accurate (see [Appendix @sec:appendix-discounting] ). Using the discounting methods tested in this study leads to worse outcomes for the 4 hour BESS as longer-term arbitrage opportunities are devalued (e.g. a cost to charge now is evaluated against a discounted future revenue earned from discharging).

![Cumulative throughput (discharged energy) for BESSs with different storage durations (15 minutes, 1 hour and 4 hours in the subfigures from left to right) and different scheduling lookahead horizon lengths (different coloured lines in each subfigure) in 2021. The dashed red line indicates the end-of-year cumulative throughput of a 100 MWh BESS that is cycled once per day. ](source/figures/NSW_100_arbitrage_throughputpenalty_no_degradation_600000_throughputs.pdf){#fig:bess_throughputs}

## Scheduling and policy options {#sec:info-discussion}

The results from [@sec:case_study-bess_simulations] suggest that the increasing frequency and severity of price forecast errors in the NEM's pre-dispatch processes could be hampering their function as a scheduling coordination platform. In particular, flexible resources such as ESRs can lose significant fractions of their potential revenue to instances of sudden & extreme price divergence — products of the NEM's fast real-time market, its lenient bidding rules, common MP bidding strategies and inelastic demand. In this section, we discuss options for MPs to mitigate the impact of imperfect information and changes to centralised knowledge processes & market design that policy-makers could implement to improve resource scheduling outcomes.

MPs need not solely rely on centralised knowledge processes given that they can generate either their own point forecasts for use in deterministic scheduling methods, or forecasted distributions of prices (or price errors) for use in stochastic or robust scheduling methods (discussed in [@sec:context-esr-operation-information]). However, in markets with blind auctions, producing private forecasts requires using historical data that likely reflect past market dynamics [@lagoForecastingDayaheadElectricity2021]. In contrast, pre-dispatch is *mechanistic*— the best-available forward-looking information, which includes forecasted constraints and the latest set of sealed bids & offers, is used in a lightweight version of the market clearing engine [@trebbienUnderstandingElectricityPrices2023]. MPs desiring a balanced solution would ideally use both private and pre-dispatch forecasts in their decision-making, as the former may be more robust to "noisy" market processes whilst the latter better reflects contemporaneous market dynamics & system constraints. Beyond improving price forecast accuracy, MPs should consider two scheduling changes that could improve market revenues. Firstly, scheduling algorithm modifications (e.g. as suggested in [@sec:case_study-bess_simulations-method-results], longer lookaheads and the tested forecast discounting methods for ESRs with short storage durations) may deliver material improvements whilst being simple to implement. Secondly, rather than pursuing all-or-nothing ([@sec:case_study-bess_simulations-method-assumptions]) or hockey-stick bidding strategies, MPs could appropriately structure their offer curves (i.e. price-quantity bands) to reflect costs and manage price risk. However, doing so would require MPs to partially divulge otherwise private information to the broader market and, for ESRs, is likely lead to increased cycling.

Though there are risks associated with "analytical monocultures" in which the "wisdom of the crowd" is replaced by shared beliefs and thus correlated actions [@bronkHayekWisdomPrices2013; @bowlesRetrospectivesFriedrichHayek2017], improving the scheduling decision support offered by centralised knowledge processes may be necessary to address existing information & power asymmetries, and could become essential should policy-makers pursue two-sided or hierarchical market architectures that enable smaller consumer-owned or demand response energy resources to participate in real-time markets [@kristovTaleTwoVisions2016; @hoganMarketDesignPractices2019]. One approach to improving decision support is to provide more information to MPs. This could not only involve publishing additional metrics (e.g. forecast uncertainty measures or the regional aggregate energy availability of energy-constrained resources) [@australianenergymarketcommissionOperatingReserveMarket2023] but also implementing probabilistic or interactive pre-dispatch engines that provide MPs with a broader perspective of possible market outcomes than the pre-dispatch sensitivities discussed in @sec:context-nem-knowledge_processes. Notwithstanding the transparency benefits, the costs of increased information provision could exceed its benefits if it has little effect on MP decision-making due to greater complexity (e.g. if pre-dispatch "clearing" deviates from real-time market clearing) and/or the additional information is not immediately decision-relevant. It could even have deleterious effects should it provide information that reveals opportunities for gaming or collusion to MPs [@vonderfehrTransparencyElectricityMarkets2013; @creativeenergyconsultingptyltdSchedulingAheadMarkets2020].

Another approach to improving the decision support offered by centralised knowledge processes is to promote schedule & price convergence. One low-regret option that might assist with convergence is increasing the frequency at which pre-dispatch & PASA are published. More frequent information provision may be particularly effective for a future NEM that will likely consist of many flexible resources that can rapidly respond to changing market conditions. However, this change's feasibility is limited by the minimum solution times for pre-dispatch & PASA and, more importantly, it does not reduce the likelihood of sudden & extreme price forecast swings (@sec:case_study-price_forecast_errors). Addressing these swings may require restricting rebidding since the freedom to readily shift participation preferences frequently, dramatically & within seconds of delivery is enabling the use of all-or-nothing & hockey-stick bidding strategies that contribute to their occurrence. Policy-makers could consider rebid count/frequency restrictions or a "soft" gate closure, which would only allow rebids after a gate closure time close to delivery (e.g. 5 minutes ahead) if there are sudden changes in a resource's technical status (e.g. forced outage). These sorts of rebidding restrictions might better incentivise MPs to submit a well-structured final rebid that not only reflects their costs & tolerance for price risk, but also hedges against changes from gate closure time to delivery (e.g. demand errors, forced outages). This is also a low-regret option; even if it fails to elicit changes in bidding behaviour, restricted rebidding will at least reduce rebid volumes and thus assist the market regulator with their assessment of rebid compliance.

Other options could prove to be more effective at improving ESR scheduling outcomes but are challenging to implement as they constitute drastic changes to market design & structure. Several of these options not only increase technical or decision-making complexity, but could also be politically infeasible as they are incongruous with norms in the NEM & the values enshrined in it its rules (e.g. allowing MPs to largely retain property and decision rights) [@conejoRethinkingRestructuredElectricity2018].:

  - Whilst a binding ahead market can provide a degree of schedule & revenue certainty for ESRs, they impose constraints upon flexible systems [@nelsonInvestigatingEconomicValue2018], require mechanisms to reconcile ahead and real-time prices [@hoganVirtualBiddingElectricity2016a; @elaWholesaleElectricityMarket2016] and have thus far been rejected in reform processes by both stakeholders and rule-makers in favour of augmenting the NEM's single platform design [@energysecurityboardPost2025MarketDesign2021; @australianenergymarketcommissionImprovingSecurityFrameworks2023]. 
  - Alternative ESR participation models, such as those implemented in US markets [@singhalIncorporatingElectricStorage2019; @elaIntegrationElectricStorage2021], could provide AEMO with a greater degree of control over ESR operation to minimise any detrimental outcomes arising from the MP participation choices & preferences discussed in @sec:context-esr-operation. However, these participation models would require multi-part bid formats & significant modifications to market participation rules & the NEM dispatch engine to enable centralised resource scheduling & multi-period optimisation [@herreroEvolvingBiddingFormats2020; @billimoriaContractDesignStorage2023a].
  - Scheduled demand-side participation could improve price convergence and mitigate hockey-stick pricing, but may require significant structural and market design changes beyond the more incremental market rules that have been adopted [@australianenergymarketcommissionWholesaleDemandResponse2020] or proposed [@australianenergymarketcommissionIntegratingPriceresponsiveResources2023].

## Conclusion and policy implications {#sec:info-conclusion}

With growing deployments of flexible yet potentially energy-constrained VRE & ESRs and increasingly active demand-side resources, policy-makers worldwide are looking towards granular, faster and more flexible electricity markets to effectively & efficiently operate decarbonised power systems. However, achieving good operational outcomes is contingent upon scheduling coordination delivered through sound MP practices, appropriate market participation rules and purpose-fit knowledge process configurations.

Our work highlights that the increasing frequency and severity of price forecast errors in the NEM's centralised knowledge processes can lead to sub-optimal scheduling outcomes for BESS ESRs (from ~15-20% reduction in potential annual arbitrage revenue for a 4 hour BESS to 60+% for a 15 minute BESS) and, more broadly, for all scheduled resources that participate in the NEM's real-time market. Whilst MPs can mitigate the impact of imperfect information by increasing scheduling lookaheads, modifying scheduling algorithms and/or producing robust price forecasts themselves, these changes alone cannot deliver centralised knowledge processes that guarantee "information adequacy" to a diverse range of MPs. This feature is particularly important for market designs and system architectures that aim to enable the participation of consumer-owned energy resources in electricity markets.

While some of the market design options we discussed may prove effective in improving resource scheduling outcomes, they predominantly consist of larger market design or structural changes that would be particularly challenging & complex to implement in the NEM. Instead, we focus on how schedule and price convergence could be improved. Though previous studies have highlighted that continuous *trading* can overwhelm exchanges & induce an inefficient "arms race for speed" to exploit mechanical arbitrage opportunities [@budishHighFrequencyTradingArms2015; @silva-rodriguezShortTermWholesale2022; @ahlqvistSurveyComparingCentralized2022], our analysis suggests that even *bidding*, when continuous & unrestricted, may have deleterious impacts on system schedule convergence and thus system balancing. As such, we recommend that policy-makers in the NEM consider market participation restrictions that might better incentivise truthful or, at the very least, structured MP bidding strategies that are less likely to contribute to price forecast divergence and extreme & sudden price forecast swings. Furthermore, our analysis serves as a reminder to policy-makers elsewhere to exercise caution when making the short-term electricity markets in their jurisdictions faster and more flexible.

\appendix
\setcounter{table}{0}
\setcounter{figure}{0}
\renewcommand\thefigure{\thesection.\arabic{figure}} 
\renewcommand\thetable{\thesection.\arabic{table}}

## Mixed integer linear program formulations {#sec:info-appendix-milps}

### Assumed battery energy storage system operating characteristics {#sec:info-appendix-milps-assumptions}

We model a lithium-ion BESS and assume the following with respect to its operating characteristics:

  - The BESS is highly flexible — it has no minimum operating levels and can ramp between charging at its maximum power output in one dispatch interval to discharging at its maximum power output in the next (or vice versa).
  - The BESS is only cycled between lower and upper state-of-charge limits (fixed at 10% and 90%, respectively). Such limits are often imposed by storage operators to avoid the accelerated degradation that accompanies deep discharging (particularly for lithium-nickel-manganese-cobalt-oxide batteries) [@xuRoleModelingBattery2022], and to ensure that market participation obligations can be met by the storage device. Given these state-of-charge constraints and assuming that the BESS is operated at its nominal temperature, current and voltage, we assume that its charging & discharging efficiencies remain constant and fix both at 91% (including inverter losses) [@yangModellingOptimalEnergy2022; @daviesCombinedEconomicTechnological2019]. Combined, these efficiencies yield an ESR round-trip efficiency of ~83%, which is consistent with values used in similar studies [@mcphersonImpactsStorageDispatch2020; @xuRoleModelingBattery2022; @yurdakulRiskAverseSelfSchedulingStorage2023].
  - Self-discharge losses are negligible for a lithium-ion BESS [@bradburyEconomicViabilityEnergy2014].
  - Given that we only model one year of operation, we ignore BESS capacity fade due to cycle and calendar degradation. The latter constitutes an additional opportunity-cost that may modify the attractiveness of certain arbitrage opportunities, particularly if operation over the entire lifetime of the BESS is modelled [@xuRoleModelingBattery2022; @wattsEffectsBatteryDegradation2022].

### Nomenclature

#### Indices and sets

\begin{description}[leftmargin=8em,style=nextline]
  \item[$\mathcal{T}$] Ordered set of time periods within the lookahead horizon, i.e. $\mathcal{T} = \{1, 2, 3, ..., T\}$
  \item[$t \in \mathcal{T}$] Time period $t$ in the lookahead horizon. In this study, each $t$ corresponds to the end of a 5-minute dispatch interval
\end{description}

#### Parameters

\begin{description}[leftmargin=8em,style=nextline]
  \item[$\tau$] Time duration of a dispatch interval (5 minutes or $\frac{1}{12}$ hours)
  \item[$\lambda_t$] Energy price (forecast or actual) at time $t$ (AUD/MW/hr)
  \item[$\bar{p}$] Maximum power capacity of BESS (MW)
  \item[$\underline{e}$] Minimum level of energy storage (MWh). Fixed at 10\% of energy capacity for all models
  \item[$\bar{e}$] Maximum level of energy storage (MWh). Fixed at 90\% of energy capacity for all models
  \item[$\eta_{\textrm{charge}}$] Charging efficiency (unitless). Fixed at 91\% for all models
  \item[$\eta_{\textrm{discharge}}$] Discharging efficiency (unitless). Fixed at 91\% for all models
  \item[$e_0$] Initial level of energy storage. Fixed at 50\% of energy capacity for the first scheduling step and, for successive steps, is calculated using the binding decision of the last step
  \item[$d_0$] Initial energy storage throughput (MWh). Fixed at 0 MWh for the first scheduling step and, for successive steps, is calculated using the binding decision of the last step
  \item[$d_{\textrm{lifetime}}$] Cumulative energy throughput lifetime of the BESS (MWh). See Table 1 for the values assumed in calculating this parameter.
  \item[$e_{\textrm{rated}}$] Rated (i.e. initial) energy storage capacity of the BESS (MWh). Fixed at 100 MWh for all BESS in this study.
  \item[$c_{\textrm{capital}}$] BESS capital cost per unit of energy storage (AUD/MWh). See Table 1 for the range of capital costs tested in this study.
\end{description}

#### Variables

\begin{description}[leftmargin=8em,style=nextline]
  \item[$u_t$] Charge state binary variable, i.e. value of 1 if BESS is charging at time $t$ (unitless)
  \item[$e_t$] Level of energy storage at time $t$ (MWh)
  \item[$p_t$] Discharging power of BESS at time $t$ (MW)
  \item[$q_t$] Charging power of BESS at time $t$ (MW)
  \item[$d_t$] Cumulative BESS energy throughput at time $t$ (MWh)
\end{description}

### Arbitrage {#sec:info-appendix-milps-arb}

\begin{maxi!}[2]
    {p_t,q_t}{\sum_{t \in \mathcal{T}}{\tau\lambda_t(p_t-q_t)} \label{eq:arb-1a}}
    {}{}
    \addConstraint{u_t}{\in \{0,1\} \label{eq:arb-1b}}  
    \addConstraint{p_t}{\geq 0 \label{eq:arb-1c}}
    \addConstraint{q_t}{\geq 0 \label{eq:arb-1d}}
    \addConstraint{p_t - \bar{p}\left(1-u_t\right)}{\leq 0 \label{eq:arb-1e}}
    \addConstraint{q_t - \bar{p}u_t}{\leq 0 \label{eq:arb-1f}}
    \addConstraint{\underline{e} \leq e_t \leq \bar{e}}{\label{eq:arb-1g}}
    \addConstraint{e_t-e_{t-1}- \left( q_t\eta_{\textrm{charge}}\tau\right)+\frac{p_t\tau}{\eta_{\textrm{discharge}}}}{= 0 \label{eq:arb-1h}}
    \addConstraint{e_1 - e_0 - \left( q_1\eta_{\textrm{charge}}\tau\right)+\frac{p_1\tau}{\eta_{\textrm{discharge}}}}{= 0 \label{eq:arb-1i}}
\end{maxi!}

[@eq:arb-1a] maximises arbitrage revenue over the scheduling lookahead horizon. [@eq:arb-1c] and [@eq:arb-1d] ensure that discharging and charging, respectively, are greater than or equal to 0 MW, and [@eq:arb-1b] introduces binary charge state variables that are used in [@eq:arb-1e] and [@eq:arb-1f] to enforce the BESS maximum power capacity limit and prevent the BESS from simultaneously discharging & charging in the same dispatch interval. [@eq:arb-1g] enforces BESS energy storage limits (the rationale for which we previously discussed in @sec:appendix-milps-assumptions), and [@eq:arb-1h] & [@eq:arb-1i] are intertemporal constraints that model BESS state-of-charge evolution.

### Arbitrage with throughput penalty {#sec:info-appendix-milps-arbpen}

\begin{maxi!}[2]
    {p_t,q_t}{\sum_{t \in \mathcal{T}}{\tau\lambda_t(p_t-q_t)}  - \frac{d_T - d_0}{d_{\textrm{lifetime}}} e_{\textrm{rated}} c_{\textrm{capital}} \label{eq:arb-2a}}
    {}{}
    \addConstraint{u_t}{\in \{0,1\}} 
    \addConstraint{p_t}{\geq 0}
    \addConstraint{q_t}{\geq 0}
    \addConstraint{p_t - \bar{p}\left(1-u_t\right)}{\leq 0}
    \addConstraint{q_t - \bar{p}u_t}{\leq 0}
    \addConstraint{\underline{e} \leq e_t \leq \bar{e}}{}
    \addConstraint{e_t-e_{t-1}- \left( q_t\eta_{\textrm{charge}}\tau\right)+\frac{p_t\tau}{\eta_{\textrm{discharge}}}}{= 0}
    \addConstraint{e_1 - e_0 - \left( q_1\eta_{\textrm{charge}}\tau\right)+\frac{p_1\tau}{\eta_{\textrm{discharge}}}}{= 0}
    \addConstraint{e_t-e_{t-1}- \left( q_t\eta_{\textrm{charge}}\tau\right)+\frac{p_t\tau}{\eta_{\textrm{discharge}}}}{= 0}
    \addConstraint{d_t-d_{t-1} - p_t\tau}{= 0 \label{eq:arb-2j}}
    \addConstraint{d_1-d_0 - p_1\tau}{= 0 \label{eq:arb-2k}}
\end{maxi!}

  [@eq:arb-2a] maximises arbitrage revenue over the scheduling lookahead horizon given a penalty on the throughput accrued by the BESS over the optimisation window. The penalty corresponds to the additional BESS throughput accrued over the scheduling lookahead horizon (i.e. $d_T - d_0$) divided by the assumed BESS warrantied throughput lifetime ($d_{\textrm{lifetime}}$) and multiplied by the assumed BESS capital cost (the product of $e_{\textrm{rated}}$ and $c_{\textrm{capital}}$) (see [@tbl:formulations] for assumed values). Constraints [@eq:arb-2j] and [@eq:arb-2k] are intertemporal constraints that model BESS cumulative throughput evolution. All other constraints are described in @sec:appendix-milps-arb.

### Arbitrage with discounting {#sec:info-appendix-milps-arbdisc}

\begin{maxi!}[2]
    {p_t,q_t}{\sum_{t \in \mathcal{T}}\left(\tau(p_t - q_t) \times \lambda_t DF(r, t-t_0) \right)  - \frac{d_T - d_0}{d_{\textrm{lifetime}}} e_{\textrm{rated}} c_{\textrm{capital}} \label{eq:arb-3a}}
    {}{}
    \addConstraint{u_t}{\in \{0,1\}}
    \addConstraint{p_t}{\geq 0}
    \addConstraint{q_t}{\geq 0}
    \addConstraint{p_t - \bar{p}\left(1-u_t\right)}{\leq 0}
    \addConstraint{q_t - \bar{p}u_t}{\leq 0}
    \addConstraint{\underline{e} \leq e_t \leq \bar{e}}{}
    \addConstraint{e_t-e_{t-1}- \left( q_t\eta_{\textrm{charge}}\tau\right)+\frac{p_t\tau}{\eta_{\textrm{discharge}}}}{= 0}
    \addConstraint{e_1 - e_0 - \left( q_1\eta_{\textrm{charge}}\tau\right)+\frac{p_1\tau}{\eta_{\textrm{discharge}}}}{= 0}
    \addConstraint{e_t-e_{t-1}- \left( q_t\eta_{\textrm{charge}}\tau\right)+\frac{p_t\tau}{\eta_{\textrm{discharge}}}}{= 0}
    \addConstraint{d_t-d_{t-1} - p_t\tau}{= 0}
    \addConstraint{d_1-d_0 - p_1\tau}{= 0}
\end{maxi!}

[@eq:arb-3a] maximises arbitrage revenue over the scheduling lookahead horizon given discounted future prices (i.e. $\lambda_t DF(r,t-t_0)$) and a penalty on the throughput accrued by the BESS over the optimisation window. The discount function $DF$ is either exponential or hyperbolic, and takes a discount rate $r$ and forecast ahead time $t-t_0$ as arguments. Refer to the next appendix (@sec:appendix-discounting) for the discount function formulae, the methodology for determining discount rates and the discount rate values used in this study's storage modelling. All other constraints are described in @sec:appendix-milps-arb and @sec:appendix-milps-arbpen.


## Methodology for discounting future price forecasts {#sec:info-appendix-discounting}

Delay discounting was used to model a scheduler's belief that price forecasts will improve as the forecast run time approaches the forecasted delivery time. In other words, discounting price forecasts further into the future represents a time preference for *information*. The rationale for discounting price forecasts is that it can provide robustness to ESR operation by reducing the attractiveness of uncertain opportunities. However it is also problematic as "devaluing" revenues & costs in the near future (i.e. up to a day-ahead) is not reflective of the time periods over which a storage operator's time preferences are stronger (i.e.over multiple months & years). Devaluing future revenues & costs could also lead to missed opportunities (e.g. due to discounted price spikes) & poor decisions (e.g. discounted lower prices that make charging more attractive than it otherwise would be).

Two discounting functions were tested: an exponential discounting function ([@eq:exponential-discounting]), which is commonly used in finance and neoclassical economics, and a hyperbolic discounting function ([@eq:hyperbolic-discounting]), which has been used to model empirical evidence of intertemporal inconsistency in decision-making [@ainslieSpeciousRewardBehavioral1975; @grune-yanoffModelsTemporalDiscounting2015]. Instead of using the hyperbolic discount function to model the *choice* of a decision-maker, we use it to model a potential *belief* about information they might hold: that price forecasts further into the future are likely to be more-or-less equally "untrustworthy" (e.g. a forecast made 8 hours ahead might be as "inaccurate" as a forecast made 12 hours ahead).

$$DF(r, t-t_0) = e^{-r(t-t_0)}$$ {#eq:exponential-discounting}

$$DF(r, t-t_0) = \frac{1}{1+r(t-t_0)}$$ {#eq:hyperbolic-discounting}

Given their importance to market participants, counts of significant[^11] pre-dispatch price forecast errors ([@fig:nsw_significant_price_error_counts]) were used to calculate a discount rate for each function (i.e. $r$, in units $hr^{-1}$). Significant price forecast error price counts were max-scaled (i.e. counts at each ahead time were divided by the counts at 24 hours ahead) and then subtracted from one to produce the red curve in @fig:discount_function_fitting. The exponential and hyperbolic discount functions were then fitted to this curve using curve fitting tools in the `scipy` package [@mckinney-proc-scipy-2010]. The values of $r$ obtained from this process (outlined in @tbl:discount-rates) were then used alongside their corresponding discount functions in the arbitrage with discounting MILP formulation ([@sec:appendix-milps-arbdisc]).

+-------------------------+-------------------------+-------------------------+
|                         | Exponential             |Hyperbolic               |
|                         |                         |                         |
|                         |                         |                         |
|                         |                         |                         |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+
|Discount rate ($hr^{-1}$)| 0.1994                  |0.4203                   |
|                         |                         |                         |
|                         |                         |                         |
|                         |                         |                         |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+
|RMSD                     |0.088                    |0.049                    |
|                         |                         |                         |
|                         |                         |                         |
|                         |                         |                         |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+
: Discount rates obtained from fitting discount functions to max-scaled significant price forecast error counts over time, and the root-mean-square deviation (RMSD) of each fit. {#tbl:discount-rates}

[^11]: See @sec:case_study-price_forecast_errors for a definition of "significant".

![Significant price forecast errors (i.e. > 300 AUD/MW/hr) as a proportion of all price forecast errors for a given forecast ahead time in NSW in 2021. The horizontal axis labels show both the forecast ahead time in hours and the number of price forecast error samples for that ahead time in square brackets. The number of samples decreases beyond 16 hours (the reason for which is outlined in @sec:case_study-bess_simulations-method-price_data) and increases within an hour of delivery as forecasts within this horizon (i.e. 5MPD) are published more frequently (i.e. every 5 minutes). The decrease in the proportion of significant price forecast errors from forecasts 24 hours out to forecasts 32 hours out could be explained by the latter forecasting periods late at night or early in the morning — periods when supply & demand conditions are typically more stable and thus predictable [@prakashLookingPredispatchDemand2023]. Pre-dispatch price forecast data were obtained using `NEMSEER` [@prakashNEMSEER2023], and actual market price data were obtained using `NEMOSIS` [@gormanNEMOSISNEMOpen2018]. Errors within an hour of delivery were calculated using 5MPD forecasts. Refer the research data for this article for further details and source code. This plot was generated using `matplotlib` [@hunterMatplotlib2DGraphics2007].](source/figures/NSW1_percent_above_300.0_2021.png){#fig:nsw_significant_price_error_counts}

Though the hyperbolic discount function obtains a better fit (i.e. lower root-mean-square deviation, particularly closer to real-time) and reflects the intuition that forecasts say 15 hours out and 20 hours out are equally questionable, it discounts price forecasts closer to real-time ($\lessapprox$ 6 hours) to a greater degree than the exponential discount function ([@fig:discount_function_fitting]). As we outline in @sec:case_study-bess_simulations-method-results, this may, in some cases, lead to poorer arbitrage performance than if an exponential discount function were used.

![Discount function fits to the price forecast error counts for NSW in 2021. To ensure that forecasts further out from delivery were discounted to a greater degree, significant price forecast errors counts were max-scaled and then subtracted from one (i.e. $1-\frac{\textrm{counts}_{\textrm{ahead time}}}{\textrm{counts}_{\textrm{24 hours ahead}}}$)](source/figures/curve_fits_300.0.png){#fig:discount_function_fitting}


## Data Availability {-}

The data used in this study were made publicly available by the Australian Energy Market Operator through their Nemweb portal [@australianenergymarketoperatorNemwebMarketData2023] and were obtained using two open-source tools: `NEMOSIS` [@gormanNEMOSISNEMOpen2018] and `NEMSEER` [@prakashNEMSEER2023].

The source code (including data extraction through the aforementioned tools) and results from this study are hosted in two GitHub repositories:

- For material related to the analysis of prices, price forecast errors and the battery energy storage system modelling, please refer to this repository: https://github.com/prakaa/NEMStorageUnderUncertainty [@prakashNEMStorageUnderUncertainty2023].
- For material related to the analysis of market participant (re)bidding, please refer to this repository: https://github.com/prakaa/nem-rebidding-analysis-2012-2021 [@prakashNEMReBidding2023].

